<!DOCTYPE html>
<html>
<head>
	<title>Create Form Post</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div class="container">
		<h1>Create Form Post</h1>
		<form id="create-bounty-form">
			<div class="form-group">
				<label for="name">Name:</label>
				<input type="text" id="name" name="name" required>
			</div>
			<div class="form-group">
				<label for="email">Email Address:</label>
				<input type="email" id="email" name="email" required>
			</div>
			<h4>I am looking for a video of this Airbnb</h4>
			<div class="form-group">
				<label for="link">Paste the link below:</label>
				<input type="url" id="link" name="link" required>
			</div>
			<div class="form-group">
				<label for="amount">Bounty Amount:</label>
				<select id="amount" name="amount" required>
					<option value="5.00">$5.00</option>
					<option value="10.00">$10.00</option>
					<option value="15.00">$15.00</option>
				</select>
			</div>
			<div class="form-group">
				<button type="submit" id="create-bounty-btn">Create Bounty</button>
			</div>
		</form>
	</div>
	<script src="https://js.stripe.com/v3/"></script>
	<script>
		const stripe = Stripe('YOUR_STRIPE_PUBLISHABLE_KEY');
		const createBountyForm = document.getElementById('create-bounty-form');
		const createBountyBtn = document.getElementById('create-bounty-btn');

		createBountyBtn.addEventListener('click', async (event) => {
			event.preventDefault();
			createBountyBtn.disabled = true;
			createBountyBtn.textContent = 'Creating bounty...';

			const { token } = await stripe.createToken({
				name: document.getElementById('name').value,
				email: document.getElementById('email').value,
			});

			const amount = Number(document.getElementById('amount').value.replace(/[^\d.-]/g, '')) * 100;

			const response = await fetch('https://your-server.com/checkout', {
				method: 'POST',
				headers: {
					'Content-Type': 'application/json'
				},
				body: JSON.stringify({
					amount: amount,
					currency: 'usd',
					token: token.id,
				})
			});

			const { success } = await response.json();

			if (success) {
				window.location.href = 'details.html';
			} else {
				createBountyBtn.disabled = false;
				createBountyBtn.textContent = 'Create Bounty';
			}
		});
	</script>
</body>
</html>
